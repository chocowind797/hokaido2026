/* --- åŸºç¤è¨­å®š --- */

/* style.css æœ€ä¸Šæ–¹ */

html {
    scroll-behavior: smooth; /* é—œéµï¼šè®“è·³è½‰è®Šæˆå¹³æ»‘æ»‘å‹• */
    max-width: 100%;
    overflow-x: hidden;
}

:root {
    --primary: #2c3e50;    /* ä¸»è‰² */
    --accent: #3498db;     /* å¼·èª¿è‰² (æ”¹ç‚ºäº®è—è‰²ï¼Œæ›´åƒ App) */
    --bg: #f2f2f7;         /* iOS é¢¨æ ¼ç°åº• */
    --card: #ffffff;
    --text: #333333;
    --nav-height: 60px;
}

* { box-sizing: border-box; -webkit-tap-highlight-color: transparent; }

body {
    font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif;
    margin: 0;
    padding: 0;
    background-color: var(--bg);
    color: var(--text);
    padding-bottom: 50px; /* åº•éƒ¨ç•™ç™½ */
    max-width: 100%;
    overflow-x: hidden;
}

/* --- é ‚éƒ¨ Header --- */
header {
    /* modify: èƒŒæ™¯åœ– */
    background-image: linear-gradient(rgba(0,0,0,0.3), rgba(0,0,0,0.6)), url('https://www.visit-hokkaido.jp/lsc/upfile/article/0000/0329/329_1_l.jpg');
    background-size: cover;
    background-position: center;
    color: white;
    padding: 40px 20px 80px; /* ä¸‹æ–¹ç•™ç©ºé–“çµ¦å°è¦½åˆ— */
    position: relative;
}

h1 { margin: 0; font-size: 1.8rem; text-shadow: 0 2px 4px rgba(0,0,0,0.5); }
.subtitle { font-size: 0.9rem; margin-top: 5px; opacity: 0.9; }

/* --- é»æ€§å°è¦½åˆ— (Sticky Nav) --- */
.sticky-nav {
    position: sticky;
    top: 0;
    z-index: 100;
    background: rgba(255, 255, 255, 0.95);
    backdrop-filter: blur(10px); /* æ¯›ç»ç’ƒç‰¹æ•ˆ */
    box-shadow: 0 2px 10px rgba(0,0,0,0.05);
    display: flex;
    overflow-x: auto; /* å…è¨±å·¦å³æ»‘å‹• */
    white-space: nowrap;
    padding: 0 10px;
    margin-top: -30px; /* å¾€ä¸Šè“‹ä½ header */
    border-radius: 20px 20px 0 0;
    
    /* éš±è—å·è»¸ */
    -ms-overflow-style: none;  
    scrollbar-width: none;  
}
.sticky-nav::-webkit-scrollbar { display: none; }

.nav-item {
    display: inline-block;
    padding: 15px 15px;
    color: #888;
    text-decoration: none;
    font-weight: bold;
    font-size: 0.9rem;
    border-bottom: 3px solid transparent;
}
.nav-item.active {
    color: var(--accent);
    border-bottom-color: var(--accent);
}

/* style.css */

/* ä¿®æ”¹åŸæœ¬çš„ .section-title */
.section-title {
    padding: 20px 20px 10px;
    font-size: 1.2rem;
    font-weight: 800;
    color: var(--primary);
    scroll-margin-top: 80px;
    
    /* --- æ–°å¢é€™ä¸‰è¡Œï¼Œè®“æŒ‰éˆ•å¯ä»¥é å³å°é½Š --- */
    display: flex;
    justify-content: space-between;
    align-items: center;
}

/* --- æ–°å¢ VJW æŒ‰éˆ•æ¨£å¼ --- */
.btn-vjw {
    background-color: #e74c3c; /* ç´…è‰² (é…åˆ VJW Logo è‰²ç³») */
    color: white;
    font-size: 0.8rem;
    padding: 6px 14px;
    border-radius: 50px;       /* åœ“è§’é€ å‹ */
    text-decoration: none;
    font-weight: normal;
    box-shadow: 0 2px 5px rgba(0,0,0,0.15);
    transition: transform 0.1s;
}
.btn-vjw:active { transform: scale(0.95); opacity: 0.9; }

/* --- èˆªç­è³‡è¨Šå­æ¨™é¡Œæ¨£å¼ --- */
.city-label {
    background-color: #e9ecef; /* æ·ºç°åº•è‰² */
    color: var(--primary);
    padding: 8px 12px;
    border-radius: 6px;
    font-weight: bold;
    font-size: 1rem;
    margin-bottom: 10px;
    margin-top: 5px;
    display: flex;
    align-items: center;
}
.city-label::before {
    content: '';
    display: inline-block;
    width: 4px;
    height: 16px;
    background-color: var(--accent); /* è—è‰²è£é£¾æ¢ */
    margin-right: 8px;
    border-radius: 2px;
}

.card {
    background: var(--card);
    margin: 0 15px 15px; /* æ‰‹æ©Ÿç‰ˆå·¦å³ç•™ä¸€é»é‚Šè· */
    padding: 20px;
    border-radius: 16px;
    box-shadow: 0 2px 8px rgba(0,0,0,0.05);
    max-width: 100%;
    overflow: hidden;
}

/* --- è¡Œç¨‹è¡¨è¨­è¨ˆ --- */
.timeline-item {
    display: flex;
    margin-bottom: 20px;
    position: relative;
}
.timeline-item:last-child { margin-bottom: 0; }

/* æ™‚é–“è»¸ç·š */
.timeline-item::before {
    content: '';
    position: absolute;
    left: 24px;
    top: 25px;
    bottom: -25px;
    width: 2px;
    background: #eee;
    z-index: 0;
}
.timeline-item:last-child::before { display: none; }

.time-badge {
    background: var(--bg);
    color: var(--primary);
    font-weight: bold;
    font-size: 0.85rem;
    padding: 5px 8px;
    border-radius: 8px;
    min-width: 55px;
    text-align: center;
    z-index: 1;
    height: fit-content;
    border: 1px solid #ddd;
}

.activity-content {
    min-width: 0;   /* ğŸ”¥ è¶…é—œéµ */
    margin-left: 15px;
    flex: 1;
    padding-top: 5px;
}
.activity-title {
    font-weight: bold;
    font-size: 1rem;
    margin-bottom: 3px;
}
.activity-desc {
    font-size: 0.85rem;
    color: #666;
}

/* --- è³‡è¨Šæ ¼ --- */
.info-row {
    display: flex;
    justify-content: space-between;
    border-bottom: 1px solid #eee;
    padding: 12px 0;
}
.info-row:last-child { border-bottom: none; }
.info-label { color: #888; font-size: 0.9rem; }
.info-value { font-weight: 600; text-align: right; }

/* --- æ‘ºç–Šé¸å–®æ¨£å¼ (æ–°å¢) --- */
details {
    border-bottom: 1px solid #eee;
    transition: all 0.3s ease;
}
details:last-child { border-bottom: none; }

/* æ¨™é¡Œåˆ— (åŸæœ¬é¡¯ç¤ºçš„æ¨£å­) */
summary {
    list-style: none; /* éš±è—é è¨­ä¸‰è§’å½¢ */
    padding: 15px 5px;
    display: flex;
    justify-content: space-between;
    align-items: center;
    font-weight: 600;
    cursor: pointer;
    outline: none;
}
summary::-webkit-details-marker { display: none; } /* Chrome éš±è—é è¨­ä¸‰è§’å½¢ */

/* å³å´çš„å±•é–‹ç¬¦è™Ÿ */
/* åªå°ã€Œéå·¢ç‹€ detailsã€åŠ ç®­é ­ */
details:not(.nested-details) > summary::after {
    content: 'â–¼';
    font-size: 0.8rem;
    color: #ccc;
    transition: transform 0.3s;
}

details:not(.nested-details)[open] > summary::after {
    transform: rotate(180deg);
    color: var(--accent);
}
/* å±•é–‹å¾Œçš„è©³ç´°å…§å®¹å€å¡Š */
.flight-detail-box {
    background-color: #f8f9fa; /* æ·ºç°èƒŒæ™¯å€éš” */
    padding: 15px;
    border-radius: 12px;
    margin-bottom: 15px;
    font-size: 0.9rem;
    color: #555;
}

.detail-row {
    display: flex;
    justify-content: space-between;
    margin-bottom: 10px;
    border-bottom: 1px dashed #e0e0e0;
    padding-bottom: 5px;
}
.detail-row:last-of-type { border-bottom: none; }

.detail-label { color: #888; }
.detail-value { font-weight: bold; color: #333; }

/* --- æ–°å¢ï¼šä¸¦æ’æŒ‰éˆ•ç¾¤çµ„ --- */
.btn-group {
    display: flex;      /* è®“å…§éƒ¨å…ƒç´ ä¸¦æ’ */
    gap: 10px;          /* æŒ‰éˆ•ä¹‹é–“çš„é–“è· */
    margin-top: 15px;
}

.action-btn {
    flex: 1;            /* å…©å€‹æŒ‰éˆ•å¹³åˆ†å¯¬åº¦ (1:1) */
    padding: 12px 0;
    border-radius: 8px;
    font-weight: bold;
    font-size: 0.9rem;
    text-align: center;
    text-decoration: none;
    border: none;
    cursor: pointer;
    transition: opacity 0.2s;
}
.action-btn:active { opacity: 0.8; }

/* è—è‰²æŒ‰éˆ• (è¿½è¹¤) */
.btn-track {
    background-color: var(--accent);
    color: white;
}

/* æ©˜è‰²æŒ‰éˆ• (æ³¨æ„äº‹é …) */
.btn-note {
    background-color: #e67e22;
    color: white;
}

/* --- æ¸…å–® --- */
.checklist-item {
    display: flex;
    align-items: center;
    padding: 12px 0;
    border-bottom: 1px solid #f0f0f0;
}
.checklist-box {
    width: 22px;
    height: 22px;
    border: 2px solid var(--accent);
    border-radius: 6px;
    margin-right: 12px;
}

/* --- æ‡¸æµ®è¦–çª— (Modal) æ¨£å¼ --- */
.modal-overlay {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: rgba(0, 0, 0, 0.6); /* åŠé€æ˜é»‘è‰²èƒŒæ™¯ */
    z-index: 2000; /* å¿…é ˆæ¯”å°è¦½åˆ—é«˜ */
    display: none; /* é è¨­éš±è— */
    align-items: center;
    justify-content: center;
    backdrop-filter: blur(3px); /* èƒŒæ™¯æ¨¡ç³Šç‰¹æ•ˆ */

    /* âš ï¸ æ–°å¢é€™è¡Œï¼šé˜»æ­¢æ²å‹•é€£é– (é—œéµï¼) */
    overscroll-behavior: contain;
    
    /* ç¢ºä¿è¦–çª—æœ¬èº«ä¸èƒ½æ²å‹•ï¼Œåªæœ‰è£¡é¢çš„è¡¨æ ¼å®¹å™¨å¯ä»¥æ² */
    overflow: hidden;
}

.modal-box {
    background: white;
    width: 85%;
    max-width: 350px;
    padding: 25px;
    border-radius: 16px;
    box-shadow: 0 10px 25px rgba(0,0,0,0.2);
    animation: popup 0.3s ease-out;
    position: relative;
}

@keyframes popup {
    from { transform: scale(0.8); opacity: 0; }
    to { transform: scale(1); opacity: 1; }
}

.modal-title {
    font-size: 1.2rem;
    font-weight: bold;
    color: var(--primary);
    margin-bottom: 15px;
    text-align: center;
}

.modal-content {
    font-size: 0.95rem;
    color: #555;
    line-height: 1.6;
    white-space: pre-line; /* è®“ \n æ›è¡Œç¬¦è™Ÿç”Ÿæ•ˆ */
    margin-bottom: 25px;
}

.modal-close-btn {
    background: var(--primary);
    color: white;
    border: none;
    width: 100%;
    padding: 12px;
    border-radius: 10px;
    font-size: 1rem;
    font-weight: bold;
    cursor: pointer;
}
.modal-close-btn:active { opacity: 0.8; }

/* --- æ–°å¢ï¼šè¡Œç¨‹è¡¨å…§çš„äº’å‹•æ¨£å¼ --- */

/* è®“è¡Œç¨‹æ¨™é¡Œçœ‹èµ·ä¾†åƒå¯é»æ“Šçš„é€£çµ */
.link-title {
    color: var(--accent);
    text-decoration: underline;
    cursor: pointer;
}
.link-title:active { opacity: 0.7; }

/* è¡Œç¨‹å…§çš„å±•é–‹å€å¡Šæ¨£å¼å¾®èª¿ */
.timeline-details summary {
    padding: 0; /* ç§»é™¤åŸæœ¬ summary çš„å…§è·ï¼Œè®“å®ƒå°é½Šæ™‚é–“è»¸ */
    justify-content: flex-start; /* é å·¦å°é½Š */
}
.timeline-details summary::after {
    margin-left: 10px; /* ç®­é ­é›¢æ–‡å­—é ä¸€é» */
}

/* å±•é–‹å¾Œçš„è©³ç´°è³‡æ–™æ¡† (ç¨å¾®ç¸®å°ä¸€é»å­—é«”) */
.timeline-box {
    background: #f1f2f6;
    border-radius: 8px;
    padding: 12px;
    margin-top: 5px;
    font-size: 0.85rem;
    color: #555;
    overflow: hidden; /* â›” é˜²æ­¢æ•´å€‹é é¢è¢«æ’é–‹ */
}

/* é£¯åº—/å®¢é‹è³‡è¨Šçš„æ¯ä¸€è¡Œ */
.info-line {
    margin-bottom: 6px;
    display: flex;
    align-items: center;
}
.info-icon { margin-right: 8px; }

/* é€£çµæŒ‰éˆ• (Google Map ç­‰) */
.map-link {
    color: var(--accent);
    text-decoration: none;
    font-weight: bold;
    display: inline-flex;
    align-items: center;
}

/* å°æŒ‰éˆ•ç¾¤çµ„ (ç·Šæ€¥è¯çµ¡ã€è‡ªåŠ©å…¥ä½) */
.mini-btn-group {
    display: flex;
    gap: 8px;
    margin-top: 10px;
}
.mini-btn {
    flex: 1;
    padding: 8px;
    border: none;
    border-radius: 6px;
    font-size: 0.8rem;
    cursor: pointer;
    color: white;
}
.btn-emergency { background-color: #e74c3c; } /* ç´…è‰² */
.btn-checkin { background-color: #27ae60; }   /* ç¶ è‰² */
.btn-bus { 
    background-color: var(--accent); 
    width: 100%; 
    display: block; 
    text-align: center; 
    text-decoration: none; 
    padding: 8px; 
    border-radius: 6px; 
    color: white; 
    margin-top: 10px;
}

/* --- éš±å½¢é€£çµæ¨£å¼ --- */
/* é‡å°æ˜¯é€£çµ(a)çš„æ¨™é¡Œï¼Œå¼·è¿«å®ƒé•·å¾—åƒæ™®é€šæ–‡å­— */
a.activity-title {
    color: inherit;          /* ç¹¼æ‰¿çˆ¶å…ƒç´ çš„é¡è‰² (è®Šæˆæ·±ç°è‰²) */
    text-decoration: none;   /* å»é™¤åº•ç·š */
    cursor: pointer;         /* æ»‘é¼ ç§»éå»é‚„æ˜¯è¦æœ‰æ‰‹æŒ‡ */
    display: block;          /* ä¿æŒæ’ç‰ˆå®Œæ•´ */
}

/* æ‰‹æ©Ÿé»æ“Šæ™‚ç¨å¾®è®Šæ·¡ï¼Œè®“ä½¿ç”¨è€…çŸ¥é“æœ‰é»åˆ° */
a.activity-title:active {
    opacity: 0.5;
}

/* --- é›™æ¬„ç¥¨å‹™è¡¨æ ¼æ¨£å¼ --- */
.ticket-grid {
    display: grid;
    /* å®šç¾©ä¸‰æ¬„å¯¬åº¦ï¼šæ¨™é¡Œä½” 1.5 ç­‰ä»½ï¼Œç¥¨1 å’Œ ç¥¨2 å„ä½” 1 ç­‰ä»½ */
    grid-template-columns: 1.5fr 1fr 1fr;
    gap: 10px 5px; /* ä¸Šä¸‹é–“è· 10pxï¼Œå·¦å³é–“è· 5px */
    align-items: center; /* å‚ç›´ç½®ä¸­ */
    margin-bottom: 15px;
    padding-bottom: 10px;
    border-bottom: 1px dashed #e0e0e0;

    /* --- æ–°å¢ä»¥ä¸‹ä¸‰è¡Œè®“å®ƒå¯ä»¥æ»‘å‹• --- */
    overflow-x: auto;          /* å…è¨±æ©«å‘æ²å‹• */
    min-width: 100%;           /* å®¹å™¨å¯¬åº¦ */
    min-width: 350px;    /* å¦‚æœè¦ºå¾—å¤ªæ“ ï¼Œå¯ä»¥è§£é–‹é€™è¡Œå¼·åˆ¶è¨­å¯¬åº¦ */
}

/* è¡¨é ­ (1, 2) */
.grid-head {
    font-weight: bold;
    color: white;
    background-color: var(--accent); /* ç”¨å¼·èª¿è‰²ç•¶èƒŒæ™¯ */
    text-align: center;
    border-radius: 4px;
    padding: 2px 0;
    font-size: 0.9rem;
}

/* å·¦å´æ¨™ç±¤ (æŠµé”æ™‚é–“...) */
.grid-label {
    color: #888;
    font-size: 0.9rem;
}

/* æ•¸å€¼å…§å®¹ */
.grid-value {
    font-weight: bold;
    color: #333;
    text-align: center;
    font-size: 0.9rem;
    word-break: break-all; /* é˜²æ­¢é•·å–®è™Ÿç ´ç‰ˆ */
}

/* ç‰¹æ•ˆï¼šè·¨å…©æ¬„ (ç”¨æ–¼ç›¸åŒçš„è³‡è¨Š) */
.span-two {
    grid-column: span 2; /* å«é€™å€‹æ ¼å­ç›´æ¥æ©«è·¨ 2 æ ¼ */
    background-color: #f2f2f7; /* åŠ å€‹æ·ºç°åº•è‰²å€éš” */
    border-radius: 4px;
    padding: 2px 0;
}

/* --- å‡çµé¦–æ¬„è¡¨æ ¼æ¨£å¼ (Fixed Column Table) --- */
.table-scroll-wrapper {
    max-width: 100%;
    overflow-x: auto;
    overflow-y: hidden;
    -webkit-overflow-scrolling: touch;
    border: 1px solid #e0e0e0;
    border-radius: 8px;
    margin-top: 10px;
    background: #fff;
    position: relative; /* å»ºç«‹å®šä½åŸºæº– */
}

.res-table {
    min-width: 100%;
    width: max-content; /* â— é—œéµ */
    border-collapse: separate; /* ç‚ºäº†è®“ sticky æ•ˆæœæ›´å¥½ï¼Œé€™è£¡æ”¹ç”¨ separate */
    border-spacing: 0;         /* å»é™¤é–“éš™ */
    min-width: 600px;          /* å¼·åˆ¶è¡¨æ ¼å¤ å¯¬ï¼Œç¢ºä¿ä¸€å®šèƒ½æ»‘å‹• */
}

.res-table th, .res-table td {
    padding: 12px 10px;
    border-bottom: 1px solid #f0f0f0;
    white-space: nowrap;       /* ç¦æ­¢æ›è¡Œ */
    vertical-align: middle;
    text-align: center;
}

.res-table th {
    background-color: #f8f9fa;
    color: #555;
    font-weight: bold;
    border-top: none;
}

/* --- æ ¸å¿ƒé­”æ³•ï¼šå‡çµç¬¬ä¸€æ¬„ --- */
.res-table th:first-child,
.res-table td:first-child {
    position: sticky;    /* é»æ€§å®šä½ */
    left: 0;             /* é»åœ¨æœ€å·¦é‚Š */
    z-index: 2;          /* å±¤ç´šæé«˜ï¼Œæµ®åœ¨å…¶ä»–å…§å®¹ä¸Šé¢ */
    border-right: 2px solid #e0e0e0; /* åŠ ä¸€æ¢æ˜é¡¯çš„åˆ†å‰²ç·š */
}

/* ç¬¬ä¸€æ¬„ï¼šåªåƒå…§å®¹å¯¬åº¦ */
.res-table th:first-child,
.res-table td:first-child {
    width: 1%;              /* âœ¨ é—œéµæŠ€å·§ */
    white-space: nowrap;    /* ä¿è­‰ä¸æ›è¡Œ */
}

/* å› ç‚ºæ»‘å‹•æ™‚å…§å®¹æœƒè·‘åˆ°ç¬¬ä¸€æ¬„ä¸‹é¢ï¼Œæ‰€ä»¥ç¬¬ä¸€æ¬„å¿…é ˆè¦æœ‰ä¸é€æ˜èƒŒæ™¯ */
.res-table th:first-child {
    background-color: #f8f9fa; /* è¡¨é ­èƒŒæ™¯è‰² (æ·ºç°) */
    z-index: 3; /* è¡¨é ­çš„å±¤ç´šè¦æœ€é«˜ */
}
.res-table td:first-child {
    background-color: #fff;    /* å…§å®¹èƒŒæ™¯è‰² (ç™½) */
}

/* ç‚ºäº†ç¾è§€ï¼Œçµ¦å‡çµçš„é‚£ä¸€æ¬„åŠ ä¸€é»é™°å½±ï¼Œæ›´æœ‰å±¤æ¬¡æ„Ÿ */
.res-table th:first-child::after,
.res-table td:first-child::after {
    content: "";
    position: absolute;
    top: 0;
    right: -5px; /* é™°å½±æ‰“åœ¨å³é‚Š */
    bottom: 0;
    width: 5px;
    background: linear-gradient(to right, rgba(0,0,0,0.1), transparent);
    pointer-events: none;
}

/* --- å·¢ç‹€è¡Œææ¸…å–®æ¨£å¼ --- */
.nested-details {
    background-color: #fff;
    border: 1px solid #eee;
    border-radius: 8px;
    margin-bottom: 8px;
    padding: 2px;
}

.nested-details summary {
    padding: 10px;
    font-weight: bold;
    color: #555;
    cursor: pointer;
    list-style: none; /* ç§»é™¤é è¨­ä¸‰è§’å½¢ (éƒ¨åˆ†ç€è¦½å™¨) */
}

/* è‡ªå®šç¾©å°ç®­é ­ */
.nested-details summary::after {
    content: '+'; 
    float: right;
    font-weight: bold;
    color: #aaa;
}
.nested-details[open] summary::after {
    content: '-';
}

/* æ¸…å–®é …ç›®æ¨£å¼ */
.check-list {
    padding: 5px 10px 10px;
    margin: 0;
    list-style: none;
}
.check-item {
    display: flex;
    align-items: center;
    padding: 6px 0;
    border-bottom: 1px solid #f9f9f9;
    color: #444;
}
.check-item:last-child { border-bottom: none; }
.check-item input[type="checkbox"] {
    transform: scale(1.2); /* æ”¾å¤§å‹¾é¸æ¡† */
    margin-right: 10px;
    accent-color: var(--accent); /* å‹¾é¸å¾Œçš„é¡è‰² */
}

/* --- å…¨è¢å¹•ç¾é£Ÿé é¢æ¨£å¼ --- */
.fullscreen-page {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background-color: #f2f2f7; /* èˆ‡èƒŒæ™¯åŒè‰² */
    z-index: 3000; /* è“‹éæ‰€æœ‰å…§å®¹ */
    display: none; /* é è¨­éš±è— */
    flex-direction: column;
    overflow: hidden;
    animation: slideUp 0.3s ease-out;
}

@keyframes slideUp {
    from { transform: translateY(100%); }
    to { transform: translateY(0); }
}

.page-header {
    background: white;
    padding: 15px;
    display: flex;
    justify-content: space-between;
    align-items: center;
    box-shadow: 0 2px 5px rgba(0,0,0,0.05);
    z-index: 10;
}

.close-page-btn {
    background: none;
    border: none;
    color: var(--accent);
    font-size: 1rem;
    font-weight: bold;
    cursor: pointer;
}

.page-content {
    flex: 1;
    overflow-y: auto; /* å…§å®¹å¯æ²å‹• */
    padding: 20px;
}

/* --- æ’åºè¡¨æ ¼æ¨£å¼ --- */
th.sortable {
    cursor: pointer; /* è®“æ»‘é¼ è®Šæ‰‹æŒ‡ */
    user-select: none; /* é˜²æ­¢é»æ“Šæ™‚é¸å–æ–‡å­— */
    transition: background 0.2s;
}
th.sortable:active {
    background-color: #e9ecef;
}

/* æ’åºç®­é ­ */
.sort-icon::after {
    content: 'â†•'; /* é è¨­é¡¯ç¤ºé›™å‘ç®­é ­ */
    font-size: 0.8rem;
    color: #ccc;
    margin-left: 5px;
}

/* å‡åºæ¨£å¼ (ç”± JS æ·»åŠ  class) */
th.asc .sort-icon::after {
    content: 'â–²';
    color: var(--accent);
}

/* é™åºæ¨£å¼ */
th.desc .sort-icon::after {
    content: 'â–¼';
    color: var(--accent);
}

/* --- å›åˆ°é ‚éƒ¨æŒ‰éˆ•æ¨£å¼ --- */
#scrollTopBtn {
    position: fixed;        /* å›ºå®šå®šä½ï¼Œä¸éš¨æ²å‹•è·‘æ‰ */
    bottom: 30px;           /* è·é›¢åº•éƒ¨ 30px */
    right: 30px;            /* è·é›¢å³é‚Š 30px */
    z-index: 9999;          /* ç¢ºä¿åœ¨æœ€ä¸Šå±¤ */
    
    width: 50px;
    height: 50px;
    border-radius: 50%;     /* åœ“å½¢ */
    border: none;
    
    background-color: var(--accent); /* ä½¿ç”¨å¼·èª¿è‰² (è—è‰²) */
    color: white;
    font-size: 1.2rem;
    box-shadow: 0 4px 10px rgba(0,0,0,0.3); /* é™°å½±è®“å®ƒæ›´æœ‰ç«‹é«”æ„Ÿ */
    cursor: pointer;
    
    /* å‹•ç•«éæ¸¡æ•ˆæœ */
    opacity: 0;             /* é è¨­é€æ˜ (éš±è—) */
    visibility: hidden;     /* é è¨­ä¸å¯é»æ“Š */
    transform: translateY(20px); /* é è¨­å¾€ä¸‹æ²‰ä¸€é» */
    transition: all 0.3s ease;
}

/* ç•¶åŠ ä¸Š .show é¡åˆ¥æ™‚ï¼Œé¡¯ç¤ºæŒ‰éˆ• */
#scrollTopBtn.show {
    opacity: 1;
    visibility: visible;
    transform: translateY(0);
}

/* --- è¡¨æ ¼æ¬„ä½è‡ªå‹•è²¼åˆå…§å®¹ (Auto Fit) --- */

/* 1. è®“è¡¨æ ¼å¯¬åº¦ã€Œç”±å…§å®¹æ±ºå®šã€ï¼Œè€Œä¸æ˜¯é…åˆè¢å¹• */
.table-scroll-wrapper table {
    width: max-content !important; /* é—œéµï¼šè¡¨æ ¼å¤šå¯¬ï¼Œå°±é¡¯ç¤ºå¤šå¯¬ */
    min-width: 100%;               /* è‡³å°‘å¡«æ»¿ç•«é¢ */
}

/* 2. è¨­å®šå„²å­˜æ ¼å…§å®¹ */
.table-scroll-wrapper th, 
.table-scroll-wrapper td {
    white-space: nowrap;  /* é—œéµï¼šæ–‡å­—ä¸å‡†æ›è¡Œï¼ */
    width: auto;          /* å¯¬åº¦è‡ªå‹•èª¿æ•´ */
    padding: 12px 15px;   /* å¢åŠ ä¸€é»å·¦å³ç©ºé–“ï¼Œæ¯”è¼ƒä¸æ“æ“  */
}

/* 3. é‡å°åŸæœ¬çš„ JR è¡¨æ ¼å¾®èª¿ */
/* é¿å…ä¹‹å‰çš„ inline-style æ¬Šé‡å¤ªé«˜ï¼Œé€™è£¡å¼·åˆ¶è¦†è“‹ */
.timeline-box table th,
.timeline-box table td {
    vertical-align: middle !important; /* å…§å®¹å‚ç›´ç½®ä¸­ */
}

/* ========================================= */
/* â¬‡ï¸ ç¾é£Ÿæ¸…å–®å°ˆç”¨æ¨£å¼ (ç¨ç«‹é‹ä½œ) â¬‡ï¸ */
/* ========================================= */

/* 1. å¤–å±¤å®¹å™¨ï¼šè² è²¬æ§åˆ¶é«˜åº¦èˆ‡å‚ç›´æ²å‹• */
.food-table-container {
    max-height: 75vh;           /* è¨­å®šé«˜åº¦ç‚ºè¢å¹•çš„ 75% */
    overflow-y: auto;           /* è¶…éé«˜åº¦å°±é¡¯ç¤ºå‚ç›´å·è»¸ */
    overflow-x: auto;           /* å…§å®¹å¤ªå¯¬ä¹Ÿå¯ä»¥å·¦å³æ»‘ */
    border-top: 3px solid var(--accent); /* é ‚éƒ¨è£é£¾ç·š */
    background: white;
    box-shadow: 0 4px 10px rgba(0,0,0,0.1);
    border-radius: 8px;
    margin-top: 10px;
}

/* 2. è¡¨æ ¼æœ¬é«”è¨­å®š */
.food-custom-table {
    width: 100%;
    border-collapse: separate;  /* âš ï¸ é—œéµï¼šç‚ºäº†è®“ Sticky Header ç”Ÿæ•ˆ */
    border-spacing: 0;
    min-width: 600px;           /* ç¢ºä¿åœ¨æ‰‹æ©Ÿä¸Šä¸æœƒæ“ æˆä¸€åœ˜ */
}

/* 3. æ¬„ä½é€šç”¨è¨­å®š */
.food-custom-table th, 
.food-custom-table td {
    padding: 15px;
    text-align: left;
    border-bottom: 1px solid #eee;
    white-space: nowrap;        /* å¼·åˆ¶ä¸æ›è¡Œï¼Œä¿æŒæ•´é½Š */
}

/* 4. ğŸ¯ æ ¸å¿ƒåŠŸèƒ½ï¼šå›ºå®šè¡¨é ­ (Sticky Header) */
.food-custom-table thead th {
    position: sticky;           /* é»æ€§å®šä½ */
    top: 0;                     /* é»åœ¨å®¹å™¨æœ€ä¸Šæ–¹ */
    z-index: 10;                /* å±¤ç´šè¨­é«˜ï¼Œè“‹éå…§å®¹ */
    background-color: #f8f9fa;  /* å‹™å¿…æœ‰èƒŒæ™¯è‰²ï¼Œä¸ç„¶å­—æœƒé€éå» */
    color: #555;
    font-weight: bold;
    border-bottom: 2px solid #ddd; /* è¡¨é ­ä¸‹æ–¹çš„åˆ†éš”ç·š */
    box-shadow: 0 2px 5px rgba(0,0,0,0.05); /* å¾®å¾®é™°å½±æå‡è³ªæ„Ÿ */
}

/* 5. é»æ“Šæ’åºæ™‚çš„äº’å‹•æ„Ÿ */
.food-custom-table th.sortable:active {
    background-color: #e2e6ea;
}

/* --- éš±å½¢é€£çµæ¨£å¼ (é¤å»³åç¨±å°ˆç”¨) --- */
.clean-link {
    text-decoration: none;      /* å»é™¤åº•ç·š */
    color: inherit;             /* ç¹¼æ‰¿åŸæœ¬çš„æ–‡å­—é¡è‰² (æ·±ç°è‰²) */
    font-weight: bold;          /* ä¿æŒç²—é«” */
    cursor: pointer;            /* æ»‘é¼ ç§»ä¸Šå»è®Šæ‰‹æŒ‡ */
    display: block;             /* è®“æ•´å¡Šæ–‡å­—å€åŸŸéƒ½å¥½é»æ“Š */
    transition: color 0.2s;     /* é¡è‰²è®Šæ›ç‰¹æ•ˆ */
}

/* æ»‘é¼ ç§»ä¸Šå»æ™‚ç¨å¾®è®Šè‰²ï¼Œè®“ä½¿ç”¨è€…çŸ¥é“å¯ä»¥é» (å¯é¸) */
.clean-link:hover {
    color: var(--accent);       /* è®Šæˆä¸»é¡Œè—è‰² */
    opacity: 0.8;
}

/* --- Toast æç¤ºæ¡†æ¨£å¼ --- */
#toast-box {
    visibility: hidden;         /* é è¨­éš±è— */
    min-width: 200px;
    max-width: 80%;             /* ä¸è¶…éè¢å¹•å¯¬åº¦ */
    background-color: rgba(50, 50, 50, 0.9); /* æ·±é»‘è‰²åŠé€æ˜ */
    color: #fff;
    text-align: center;
    border-radius: 50px;        /* è† å›Šå½¢ç‹€ */
    padding: 12px 24px;
    position: fixed;            /* å›ºå®šä½ç½® */
    z-index: 10001;             /* æ¯”å…¨è¢å¹•é é¢é‚„é«˜ */
    left: 50%;
    bottom: 80px;               /* é¡¯ç¤ºåœ¨ç•«é¢ä¸‹æ–¹ */
    transform: translateX(-50%); /* æ°´å¹³ç½®ä¸­ */
    font-size: 0.95rem;
    box-shadow: 0 4px 15px rgba(0,0,0,0.3);
    opacity: 0;                 /* é€æ˜åº¦å‹•ç•«ç”¨ */
    transition: opacity 0.3s, bottom 0.3s;
}

/* é¡¯ç¤ºæ™‚çš„ç‹€æ…‹ */
#toast-box.show {
    visibility: visible;
    opacity: 1;
    bottom: 100px;              /* å¾®å¾®å¾€ä¸Šæµ®å‹•çš„æ•ˆæœ */
}

/* --- è‡ªå‹•åƒé£¯ç¬¦è™Ÿ (Dining Icon) --- */
/* å®šç¾©ä¸€å€‹å°ˆç”¨çš„ class */
.activity-dining::after {
    content: ' ğŸ½ï¸';       /* é€™è£¡è¨­å®šæ‚¨æƒ³è¦å‡ºç¾çš„ç¬¦è™Ÿ (ä¹Ÿå¯ä»¥æ›æˆ ğŸœ æˆ– ğŸ¥¢) */
    margin-left: 5px;     /* ç¬¦è™Ÿè·Ÿæ–‡å­—ä¹‹é–“ç•™ä¸€é»ç©ºéš™ */
    font-size: 0.9em;     /* ç¬¦è™Ÿç¨å¾®ç¸®å°ä¸€é»é»ï¼Œæ¯”è¼ƒå„ªé›… */
    vertical-align: middle; /* è®“ç¬¦è™Ÿå‚ç›´ç½®ä¸­ */
}

/* --- æ—¥æœŸå°æ¨™ç¤ºæ¨£å¼ --- */
.date-label {
    font-size: 0.85rem;     /* å­—é«”å°ä¸€é»ï¼Œæ¯”è¼ƒç²¾ç·» */
    color: #999;            /* æ·ºç°è‰² */
    font-weight: normal;    /* ä¸è¦ç²—é«”ï¼Œå€åˆ†æ¨™é¡Œ */
    background-color: #f0f0f0; /* (é¸ç”¨) åŠ å€‹æ·ºåº•è‰²çœ‹èµ·ä¾†æ›´åƒæ¨™ç±¤ */
    padding: 2px 8px;       /* (é¸ç”¨) å¢åŠ ä¸€é»å…§è· */
    border-radius: 4px;     /* (é¸ç”¨) åœ“è§’ */
}

/* --- ç¨®é¡ç¯©é¸è¦–çª—æ¨£å¼ --- */

/* 1. èƒŒæ™¯é®ç½© */
.modal-overlay {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: rgba(0, 0, 0, 0.6); /* åŠé€æ˜é»‘åº• */
    z-index: 20000; /* æ¯”æ‰€æœ‰æ±è¥¿éƒ½é«˜ */
    display: flex;
    justify-content: center;
    align-items: center;
    display: none;
}

/* 2. ç¯©é¸æ¡†æœ¬é«” */
.filter-box {
    background: white;
    width: 85%;
    max-width: 320px;
    padding: 20px;
    border-radius: 12px;
    box-shadow: 0 5px 15px rgba(0,0,0,0.3);
    animation: popIn 0.3s ease;
}

/* 3. Checkbox æ¸…å–®å€åŸŸ */
.filter-list {
    max-height: 250px;
    overflow-y: auto;
    margin: 15px 0;
    text-align: left;
    border: 1px solid #eee;
    padding: 10px;
    border-radius: 8px;
}

/* 4. å–®å€‹é¸é …æ¨£å¼ */
.filter-item {
    display: flex;
    align-items: center;
    padding: 8px;
    border-bottom: 1px solid #f5f5f5;
    font-size: 1rem;
}
.filter-item input {
    margin-right: 10px;
    transform: scale(1.3); /* æŠŠå‹¾é¸æ¡†è®Šå¤§ä¸€é»ï¼Œå¥½æŒ‰ */
}

/* 5. æŒ‰éˆ•å€ */
.filter-buttons {
    display: flex;
    justify-content: space-between;
    gap: 10px;
}
.btn-confirm {
    flex: 1;
    background-color: var(--accent);
    color: white;
    border: none;
    padding: 10px;
    border-radius: 6px;
    cursor: pointer;
}
.btn-cancel {
    flex: 1;
    background-color: #ddd;
    border: none;
    padding: 10px;
    border-radius: 6px;
    cursor: pointer;
}

/* 6. è¡¨é ­çš„å°æç¤ºç¬¦è™Ÿ */
.filter-hint {
    font-size: 0.8em;
    color: #888;
    margin-left: 2px;
}

/* å½ˆå‡ºå‹•ç•« */
@keyframes popIn {
    from { transform: scale(0.8); opacity: 0; }
    to { transform: scale(1); opacity: 1; }
}

/* ç•¶çœŸçš„é€²è¡Œæ’åºæ™‚ (è®Šæˆ asc æˆ– desc)ï¼Œæ¢å¾©åŸæœ¬çš„ç®­é ­é‚è¼¯ */
.type-header.asc .sort-icon::after,
.type-header.desc .sort-icon::after {
    color: inherit; /* æ¢å¾©åŸæœ¬é¡è‰² */
}

/* ========================================= */
/* â¬‡ï¸ ç‰¹åˆ¥è¨­å®šï¼šã€Œç¨®é¡ã€æ¬„ä½çš„æ©˜è‰²ç®­é ­ â¬‡ï¸ */
/* ========================================= */

/* 1. ç•¶ç®­é ­å‡ºç¾æ™‚ï¼Œå¼·åˆ¶è®Šæˆæ©˜è‰² */
.type-header .sort-icon::after {
    color: #e67e22 !important; /* é®®è±”çš„æ©˜è‰² */
    font-weight: bold;
}

/* 3. æ’åºç‹€æ…‹ï¼šç•¶è¢«é»æ“Šæ’åºå¾Œï¼Œè®Šå›å®Œå…¨ä¸é€æ˜ */
.type-header.asc .sort-icon::after,
.type-header.desc .sort-icon::after {
    opacity: 1;         /* è®Šäº® */
}

/* --- æ¨¹ç‹€ç¯©é¸å™¨å°ˆç”¨æ¨£å¼ --- */

/* ä¸»é¡åˆ¥ (Parent) */
.filter-parent-item {
    font-weight: bold;
    background-color: #f9f9f9;
    padding: 8px;
    border-bottom: 1px solid #eee;
    display: flex;
    align-items: center;
}

/* ç´°é …å®¹å™¨ (Children Container) */
.filter-sub-list {
    padding-left: 25px; /* ç¸®æ’ */
    background-color: #fff;
    border-bottom: 1px solid #eee;
}

/* ç´°é … (Child) */
.filter-sub-item {
    padding: 8px 0;
    font-size: 0.95rem;
    color: #555;
    display: flex;
    align-items: center;
}

/* Checkbox æ¨£å¼å¾®èª¿ */
.filter-parent-item input,
.filter-sub-item input {
    margin-right: 8px;
    transform: scale(1.2);
}

/* --- æ¨¹ç‹€ç¯©é¸å™¨æ¨£å¼æ›´æ–° --- */

/* 1. ç´°é …æ¸…å–®é è¨­éš±è— */
.filter-sub-list {
    display: none; /* é è¨­ä¸é¡¯ç¤º */
    padding-left: 25px;
    background-color: #fff;
    border-bottom: 1px solid #eee;
}

/* 2. ç•¶åŠ ä¸Š .open é¡åˆ¥æ™‚æ‰é¡¯ç¤º */
.filter-sub-list.open {
    display: block;
    animation: fadeIn 0.3s;
}

/* 3. çˆ¶å±¤é …ç›®æ¨£å¼å„ªåŒ– */
.filter-parent-item {
    display: flex;
    align-items: center;
    padding: 8px;
    border-bottom: 1px solid #eee;
    background-color: #f9f9f9;
}

/* 4. æ–‡å­—æ¨™ç±¤å€å¡Š (å¯é»æ“Šå€åŸŸ) */
.parent-label-click {
    flex: 1;            /* ä½”æ»¿å‰©é¤˜ç©ºé–“ï¼Œè®“é»æ“Šç¯„åœè®Šå¤§ */
    cursor: pointer;    /* æ»‘é¼ è®Šæ‰‹å‹ */
    user-select: none;  /* é˜²æ­¢é»æ“Šæ™‚åç™½æ–‡å­— */
    display: flex;
    align-items: center;
    justify-content: space-between; /* è®“ç®­é ­é å³ï¼Œæˆ–æ”¹æˆ flex-start é å·¦ */
}

/* 5. å°ç®­é ­å‹•ç•« */
.arrow-icon {
    font-size: 0.8rem;
    color: #888;
    transition: transform 0.3s ease;
    margin-left: 8px;
}
/* ç•¶çˆ¶å±¤è¢«æ‰“é–‹æ™‚ï¼Œç®­é ­æ—‹è½‰ */
.filter-parent-item.active .arrow-icon {
    transform: rotate(180deg); /* æˆ–æ˜¯ 90degï¼Œçœ‹ä½ åŸæœ¬ç®­é ­æ–¹å‘ */
}

@keyframes fadeIn {
    from { opacity: 0; }
    to { opacity: 1; }
}

/* é‡å°åŠé¸ç‹€æ…‹çš„æ¨£å¼ */
.parent-check:indeterminate {
    /* å¤§éƒ¨åˆ†ç€è¦½å™¨ä¸æ”¯æ´ç›´æ¥æ”¹ iconï¼Œä½†å¯ä»¥æ”¹èƒŒæ™¯è‰²æˆ–é‚Šæ¡† */
    accent-color: #888; /* å°‡å‹¾é¸æ¡†é¡è‰²æ”¹æˆç°è‰²ï¼Œè¡¨ç¤ºæœªå®Œå…¨é¸ä¸­ */
    opacity: 0.8;
}