/* --- åŸºç¤è¨­å®š --- */

/* style.css æœ€ä¸Šæ–¹ */

html {
    scroll-behavior: smooth; /* é—œéµï¼šè®“è·³è½‰è®Šæˆå¹³æ»‘æ»‘å‹• */
    max-width: 100%;
    overflow-x: hidden;
}

:root {
    --primary: #2c3e50;    /* ä¸»è‰² */
    --accent: #3498db;     /* å¼·èª¿è‰² (æ”¹ç‚ºäº®è—è‰²ï¼Œæ›´åƒ App) */
    --bg: #f2f2f7;         /* iOS é¢¨æ ¼ç°åº• */
    --card: #ffffff;
    --text: #333333;
    --nav-height: 60px;
}

* { box-sizing: border-box; -webkit-tap-highlight-color: transparent; }

body {
    font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif;
    margin: 0;
    padding: 0;
    background-color: var(--bg);
    color: var(--text);
    padding-bottom: 50px; /* åº•éƒ¨ç•™ç™½ */
    max-width: 100%;
    overflow-x: hidden;
}

/* --- é ‚éƒ¨ Header --- */
header {
    /* modify: èƒŒæ™¯åœ– */
    background-image: linear-gradient(rgba(0,0,0,0.3), rgba(0,0,0,0.6)), url('https://www.visit-hokkaido.jp/lsc/upfile/article/0000/0329/329_1_l.jpg');
    background-size: cover;
    background-position: center;
    color: white;
    padding: 40px 20px 80px; /* ä¸‹æ–¹ç•™ç©ºé–“çµ¦å°è¦½åˆ— */
    position: relative;
}

h1 { margin: 0; font-size: 1.8rem; text-shadow: 0 2px 4px rgba(0,0,0,0.5); }
.subtitle { font-size: 0.9rem; margin-top: 5px; opacity: 0.9; }

/* --- é»æ€§å°è¦½åˆ— (Sticky Nav) --- */
.sticky-nav {
    position: sticky;
    top: 0;
    z-index: 100;
    background: rgba(255, 255, 255, 0.95);
    backdrop-filter: blur(10px); /* æ¯›ç»ç’ƒç‰¹æ•ˆ */
    box-shadow: 0 2px 10px rgba(0,0,0,0.05);
    display: flex;
    overflow-x: auto; /* å…è¨±å·¦å³æ»‘å‹• */
    white-space: nowrap;
    padding: 0 10px;
    margin-top: -30px; /* å¾€ä¸Šè“‹ä½ header */
    border-radius: 20px 20px 0 0;
    
    /* éš±è—å·è»¸ */
    -ms-overflow-style: none;  
    scrollbar-width: none;  
}
.sticky-nav::-webkit-scrollbar { display: none; }

.nav-item {
    display: inline-block;
    padding: 15px 15px;
    color: #888;
    text-decoration: none;
    font-weight: bold;
    font-size: 0.9rem;
    border-bottom: 3px solid transparent;
}
.nav-item.active {
    color: var(--accent);
    border-bottom-color: var(--accent);
}

/* style.css */

/* ä¿®æ”¹åŸæœ¬çš„ .section-title */
.section-title {
    padding: 20px 20px 10px;
    font-size: 1.2rem;
    font-weight: 800;
    color: var(--primary);
    scroll-margin-top: 80px;
    
    /* --- æ–°å¢é€™ä¸‰è¡Œï¼Œè®“æŒ‰éˆ•å¯ä»¥é å³å°é½Š --- */
    display: flex;
    justify-content: space-between;
    align-items: center;
}

/* --- æ–°å¢ VJW æŒ‰éˆ•æ¨£å¼ --- */
.btn-vjw {
    background-color: #e74c3c; /* ç´…è‰² (é…åˆ VJW Logo è‰²ç³») */
    color: white;
    font-size: 0.8rem;
    padding: 6px 14px;
    border-radius: 50px;       /* åœ“è§’é€ å‹ */
    text-decoration: none;
    font-weight: normal;
    box-shadow: 0 2px 5px rgba(0,0,0,0.15);
    transition: transform 0.1s;
}
.btn-vjw:active { transform: scale(0.95); opacity: 0.9; }

/* --- èˆªç­è³‡è¨Šå­æ¨™é¡Œæ¨£å¼ --- */
.city-label {
    background-color: #e9ecef; /* æ·ºç°åº•è‰² */
    color: var(--primary);
    padding: 8px 12px;
    border-radius: 6px;
    font-weight: bold;
    font-size: 1rem;
    margin-bottom: 10px;
    margin-top: 5px;
    display: flex;
    align-items: center;
}
.city-label::before {
    content: '';
    display: inline-block;
    width: 4px;
    height: 16px;
    background-color: var(--accent); /* è—è‰²è£é£¾æ¢ */
    margin-right: 8px;
    border-radius: 2px;
}

.card {
    background: var(--card);
    margin: 0 15px 15px; /* æ‰‹æ©Ÿç‰ˆå·¦å³ç•™ä¸€é»é‚Šè· */
    padding: 20px;
    border-radius: 16px;
    box-shadow: 0 2px 8px rgba(0,0,0,0.05);
    max-width: 100%;
    overflow: hidden;
}

/* --- è¡Œç¨‹è¡¨è¨­è¨ˆ --- */
.timeline-item {
    display: flex;
    margin-bottom: 20px;
    position: relative;
}
.timeline-item:last-child { margin-bottom: 0; }

/* æ™‚é–“è»¸ç·š */
.timeline-item::before {
    content: '';
    position: absolute;
    left: 24px;
    top: 25px;
    bottom: -25px;
    width: 2px;
    background: #eee;
    z-index: 0;
}
.timeline-item:last-child::before { display: none; }

.time-badge {
    background: var(--bg);
    color: var(--primary);
    font-weight: bold;
    font-size: 0.85rem;
    padding: 5px 8px;
    border-radius: 8px;
    min-width: 55px;
    text-align: center;
    z-index: 1;
    height: fit-content;
    border: 1px solid #ddd;
}

.activity-content {
    min-width: 0;   /* ğŸ”¥ è¶…é—œéµ */
    margin-left: 15px;
    flex: 1;
    padding-top: 5px;
}
.activity-title {
    font-weight: bold;
    font-size: 1rem;
    margin-bottom: 3px;
}
.activity-desc {
    font-size: 0.85rem;
    color: #666;
}

/* --- è³‡è¨Šæ ¼ --- */
.info-row {
    display: flex;
    justify-content: space-between;
    border-bottom: 1px solid #eee;
    padding: 12px 0;
}
.info-row:last-child { border-bottom: none; }
.info-label { color: #888; font-size: 0.9rem; }
.info-value { font-weight: 600; text-align: right; }

/* --- æ‘ºç–Šé¸å–®æ¨£å¼ (æ–°å¢) --- */
details {
    border-bottom: 1px solid #eee;
    transition: all 0.3s ease;
}
details:last-child { border-bottom: none; }

/* æ¨™é¡Œåˆ— (åŸæœ¬é¡¯ç¤ºçš„æ¨£å­) */
summary {
    list-style: none; /* éš±è—é è¨­ä¸‰è§’å½¢ */
    padding: 15px 5px;
    display: flex;
    justify-content: space-between;
    align-items: center;
    font-weight: 600;
    cursor: pointer;
    outline: none;
}
summary::-webkit-details-marker { display: none; } /* Chrome éš±è—é è¨­ä¸‰è§’å½¢ */

/* å³å´çš„å±•é–‹ç¬¦è™Ÿ */
/* åªå°ã€Œéå·¢ç‹€ detailsã€åŠ ç®­é ­ */
details:not(.nested-details) > summary::after {
    content: 'â–¼';
    font-size: 0.8rem;
    color: #ccc;
    transition: transform 0.3s;
}

details:not(.nested-details)[open] > summary::after {
    transform: rotate(180deg);
    color: var(--accent);
}
/* å±•é–‹å¾Œçš„è©³ç´°å…§å®¹å€å¡Š */
.flight-detail-box {
    background-color: #f8f9fa; /* æ·ºç°èƒŒæ™¯å€éš” */
    padding: 15px;
    border-radius: 12px;
    margin-bottom: 15px;
    font-size: 0.9rem;
    color: #555;
}

.detail-row {
    display: flex;
    justify-content: space-between;
    margin-bottom: 10px;
    border-bottom: 1px dashed #e0e0e0;
    padding-bottom: 5px;
}
.detail-row:last-of-type { border-bottom: none; }

.detail-label { color: #888; }
.detail-value { font-weight: bold; color: #333; }

/* --- æ–°å¢ï¼šä¸¦æ’æŒ‰éˆ•ç¾¤çµ„ --- */
.btn-group {
    display: flex;      /* è®“å…§éƒ¨å…ƒç´ ä¸¦æ’ */
    gap: 10px;          /* æŒ‰éˆ•ä¹‹é–“çš„é–“è· */
    margin-top: 15px;
}

.action-btn {
    flex: 1;            /* å…©å€‹æŒ‰éˆ•å¹³åˆ†å¯¬åº¦ (1:1) */
    padding: 12px 0;
    border-radius: 8px;
    font-weight: bold;
    font-size: 0.9rem;
    text-align: center;
    text-decoration: none;
    border: none;
    cursor: pointer;
    transition: opacity 0.2s;
}
.action-btn:active { opacity: 0.8; }

/* è—è‰²æŒ‰éˆ• (è¿½è¹¤) */
.btn-track {
    background-color: var(--accent);
    color: white;
}

/* æ©˜è‰²æŒ‰éˆ• (æ³¨æ„äº‹é …) */
.btn-note {
    background-color: #e67e22;
    color: white;
}

/* --- æ¸…å–® --- */
.checklist-item {
    display: flex;
    align-items: center;
    padding: 12px 0;
    border-bottom: 1px solid #f0f0f0;
}
.checklist-box {
    width: 22px;
    height: 22px;
    border: 2px solid var(--accent);
    border-radius: 6px;
    margin-right: 12px;
}

/* --- æ‡¸æµ®è¦–çª— (Modal) æ¨£å¼ --- */
.modal-overlay {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: rgba(0, 0, 0, 0.6); /* åŠé€æ˜é»‘è‰²èƒŒæ™¯ */
    z-index: 2000; /* å¿…é ˆæ¯”å°è¦½åˆ—é«˜ */
    display: none; /* é è¨­éš±è— */
    align-items: center;
    justify-content: center;
    backdrop-filter: blur(3px); /* èƒŒæ™¯æ¨¡ç³Šç‰¹æ•ˆ */
}

.modal-box {
    background: white;
    width: 85%;
    max-width: 350px;
    padding: 25px;
    border-radius: 16px;
    box-shadow: 0 10px 25px rgba(0,0,0,0.2);
    animation: popup 0.3s ease-out;
    position: relative;
}

@keyframes popup {
    from { transform: scale(0.8); opacity: 0; }
    to { transform: scale(1); opacity: 1; }
}

.modal-title {
    font-size: 1.2rem;
    font-weight: bold;
    color: var(--primary);
    margin-bottom: 15px;
    text-align: center;
}

.modal-content {
    font-size: 0.95rem;
    color: #555;
    line-height: 1.6;
    white-space: pre-line; /* è®“ \n æ›è¡Œç¬¦è™Ÿç”Ÿæ•ˆ */
    margin-bottom: 25px;
}

.modal-close-btn {
    background: var(--primary);
    color: white;
    border: none;
    width: 100%;
    padding: 12px;
    border-radius: 10px;
    font-size: 1rem;
    font-weight: bold;
    cursor: pointer;
}
.modal-close-btn:active { opacity: 0.8; }

/* --- æ–°å¢ï¼šè¡Œç¨‹è¡¨å…§çš„äº’å‹•æ¨£å¼ --- */

/* è®“è¡Œç¨‹æ¨™é¡Œçœ‹èµ·ä¾†åƒå¯é»æ“Šçš„é€£çµ */
.link-title {
    color: var(--accent);
    text-decoration: underline;
    cursor: pointer;
}
.link-title:active { opacity: 0.7; }

/* è¡Œç¨‹å…§çš„å±•é–‹å€å¡Šæ¨£å¼å¾®èª¿ */
.timeline-details summary {
    padding: 0; /* ç§»é™¤åŸæœ¬ summary çš„å…§è·ï¼Œè®“å®ƒå°é½Šæ™‚é–“è»¸ */
    justify-content: flex-start; /* é å·¦å°é½Š */
}
.timeline-details summary::after {
    margin-left: 10px; /* ç®­é ­é›¢æ–‡å­—é ä¸€é» */
}

/* å±•é–‹å¾Œçš„è©³ç´°è³‡æ–™æ¡† (ç¨å¾®ç¸®å°ä¸€é»å­—é«”) */
.timeline-box {
    background: #f1f2f6;
    border-radius: 8px;
    padding: 12px;
    margin-top: 5px;
    font-size: 0.85rem;
    color: #555;
    overflow: hidden; /* â›” é˜²æ­¢æ•´å€‹é é¢è¢«æ’é–‹ */
}

/* é£¯åº—/å®¢é‹è³‡è¨Šçš„æ¯ä¸€è¡Œ */
.info-line {
    margin-bottom: 6px;
    display: flex;
    align-items: center;
}
.info-icon { margin-right: 8px; }

/* é€£çµæŒ‰éˆ• (Google Map ç­‰) */
.map-link {
    color: var(--accent);
    text-decoration: none;
    font-weight: bold;
    display: inline-flex;
    align-items: center;
}

/* å°æŒ‰éˆ•ç¾¤çµ„ (ç·Šæ€¥è¯çµ¡ã€è‡ªåŠ©å…¥ä½) */
.mini-btn-group {
    display: flex;
    gap: 8px;
    margin-top: 10px;
}
.mini-btn {
    flex: 1;
    padding: 8px;
    border: none;
    border-radius: 6px;
    font-size: 0.8rem;
    cursor: pointer;
    color: white;
}
.btn-emergency { background-color: #e74c3c; } /* ç´…è‰² */
.btn-checkin { background-color: #27ae60; }   /* ç¶ è‰² */
.btn-bus { background-color: var(--accent); width: 100%; display: block; text-align: center; text-decoration: none; padding: 8px; border-radius: 6px; color: white; margin-top: 10px;}

/* --- éš±å½¢é€£çµæ¨£å¼ --- */
/* é‡å°æ˜¯é€£çµ(a)çš„æ¨™é¡Œï¼Œå¼·è¿«å®ƒé•·å¾—åƒæ™®é€šæ–‡å­— */
a.activity-title {
    color: inherit;          /* ç¹¼æ‰¿çˆ¶å…ƒç´ çš„é¡è‰² (è®Šæˆæ·±ç°è‰²) */
    text-decoration: none;   /* å»é™¤åº•ç·š */
    cursor: pointer;         /* æ»‘é¼ ç§»éå»é‚„æ˜¯è¦æœ‰æ‰‹æŒ‡ */
    display: block;          /* ä¿æŒæ’ç‰ˆå®Œæ•´ */
}

/* æ‰‹æ©Ÿé»æ“Šæ™‚ç¨å¾®è®Šæ·¡ï¼Œè®“ä½¿ç”¨è€…çŸ¥é“æœ‰é»åˆ° */
a.activity-title:active {
    opacity: 0.5;
}

/* --- é›™æ¬„ç¥¨å‹™è¡¨æ ¼æ¨£å¼ --- */
.ticket-grid {
    display: grid;
    /* å®šç¾©ä¸‰æ¬„å¯¬åº¦ï¼šæ¨™é¡Œä½” 1.5 ç­‰ä»½ï¼Œç¥¨1 å’Œ ç¥¨2 å„ä½” 1 ç­‰ä»½ */
    grid-template-columns: 1.5fr 1fr 1fr;
    gap: 10px 5px; /* ä¸Šä¸‹é–“è· 10pxï¼Œå·¦å³é–“è· 5px */
    align-items: center; /* å‚ç›´ç½®ä¸­ */
    margin-bottom: 15px;
    padding-bottom: 10px;
    border-bottom: 1px dashed #e0e0e0;
}

/* è¡¨é ­ (1, 2) */
.grid-head {
    font-weight: bold;
    color: white;
    background-color: var(--accent); /* ç”¨å¼·èª¿è‰²ç•¶èƒŒæ™¯ */
    text-align: center;
    border-radius: 4px;
    padding: 2px 0;
    font-size: 0.9rem;
}

/* å·¦å´æ¨™ç±¤ (æŠµé”æ™‚é–“...) */
.grid-label {
    color: #888;
    font-size: 0.9rem;
}

/* æ•¸å€¼å…§å®¹ */
.grid-value {
    font-weight: bold;
    color: #333;
    text-align: center;
    font-size: 0.9rem;
    word-break: break-all; /* é˜²æ­¢é•·å–®è™Ÿç ´ç‰ˆ */
}

/* ç‰¹æ•ˆï¼šè·¨å…©æ¬„ (ç”¨æ–¼ç›¸åŒçš„è³‡è¨Š) */
.span-two {
    grid-column: span 2; /* å«é€™å€‹æ ¼å­ç›´æ¥æ©«è·¨ 2 æ ¼ */
    background-color: #f2f2f7; /* åŠ å€‹æ·ºç°åº•è‰²å€éš” */
    border-radius: 4px;
    padding: 2px 0;
}

/* --- å‡çµé¦–æ¬„è¡¨æ ¼æ¨£å¼ (Fixed Column Table) --- */
.table-scroll-wrapper {
    max-width: 100%;
    overflow-x: auto;
    overflow-y: hidden;
    -webkit-overflow-scrolling: touch;
    border: 1px solid #e0e0e0;
    border-radius: 8px;
    margin-top: 10px;
    background: #fff;
    position: relative; /* å»ºç«‹å®šä½åŸºæº– */
}

.res-table {
    min-width: 100%;
    width: max-content; /* â— é—œéµ */
    border-collapse: separate; /* ç‚ºäº†è®“ sticky æ•ˆæœæ›´å¥½ï¼Œé€™è£¡æ”¹ç”¨ separate */
    border-spacing: 0;         /* å»é™¤é–“éš™ */
    min-width: 600px;          /* å¼·åˆ¶è¡¨æ ¼å¤ å¯¬ï¼Œç¢ºä¿ä¸€å®šèƒ½æ»‘å‹• */
}

.res-table th, .res-table td {
    padding: 12px 10px;
    border-bottom: 1px solid #f0f0f0;
    white-space: nowrap;       /* ç¦æ­¢æ›è¡Œ */
    vertical-align: middle;
    text-align: center;
}

.res-table th {
    background-color: #f8f9fa;
    color: #555;
    font-weight: bold;
    border-top: none;
}

/* --- æ ¸å¿ƒé­”æ³•ï¼šå‡çµç¬¬ä¸€æ¬„ --- */
.res-table th:first-child,
.res-table td:first-child {
    position: sticky;    /* é»æ€§å®šä½ */
    left: 0;             /* é»åœ¨æœ€å·¦é‚Š */
    z-index: 2;          /* å±¤ç´šæé«˜ï¼Œæµ®åœ¨å…¶ä»–å…§å®¹ä¸Šé¢ */
    border-right: 2px solid #e0e0e0; /* åŠ ä¸€æ¢æ˜é¡¯çš„åˆ†å‰²ç·š */
}

/* ç¬¬ä¸€æ¬„ï¼šåªåƒå…§å®¹å¯¬åº¦ */
.res-table th:first-child,
.res-table td:first-child {
    width: 1%;              /* âœ¨ é—œéµæŠ€å·§ */
    white-space: nowrap;    /* ä¿è­‰ä¸æ›è¡Œ */
}

/* å› ç‚ºæ»‘å‹•æ™‚å…§å®¹æœƒè·‘åˆ°ç¬¬ä¸€æ¬„ä¸‹é¢ï¼Œæ‰€ä»¥ç¬¬ä¸€æ¬„å¿…é ˆè¦æœ‰ä¸é€æ˜èƒŒæ™¯ */
.res-table th:first-child {
    background-color: #f8f9fa; /* è¡¨é ­èƒŒæ™¯è‰² (æ·ºç°) */
    z-index: 3; /* è¡¨é ­çš„å±¤ç´šè¦æœ€é«˜ */
}
.res-table td:first-child {
    background-color: #fff;    /* å…§å®¹èƒŒæ™¯è‰² (ç™½) */
}

/* ç‚ºäº†ç¾è§€ï¼Œçµ¦å‡çµçš„é‚£ä¸€æ¬„åŠ ä¸€é»é™°å½±ï¼Œæ›´æœ‰å±¤æ¬¡æ„Ÿ */
.res-table th:first-child::after,
.res-table td:first-child::after {
    content: "";
    position: absolute;
    top: 0;
    right: -5px; /* é™°å½±æ‰“åœ¨å³é‚Š */
    bottom: 0;
    width: 5px;
    background: linear-gradient(to right, rgba(0,0,0,0.1), transparent);
    pointer-events: none;
}

/* --- å·¢ç‹€è¡Œææ¸…å–®æ¨£å¼ --- */
.nested-details {
    background-color: #fff;
    border: 1px solid #eee;
    border-radius: 8px;
    margin-bottom: 8px;
    padding: 2px;
}

.nested-details summary {
    padding: 10px;
    font-weight: bold;
    color: #555;
    cursor: pointer;
    list-style: none; /* ç§»é™¤é è¨­ä¸‰è§’å½¢ (éƒ¨åˆ†ç€è¦½å™¨) */
}

/* è‡ªå®šç¾©å°ç®­é ­ */
.nested-details summary::after {
    content: '+'; 
    float: right;
    font-weight: bold;
    color: #aaa;
}
.nested-details[open] summary::after {
    content: '-';
}

/* æ¸…å–®é …ç›®æ¨£å¼ */
.check-list {
    padding: 5px 10px 10px;
    margin: 0;
    list-style: none;
}
.check-item {
    display: flex;
    align-items: center;
    padding: 6px 0;
    border-bottom: 1px solid #f9f9f9;
    color: #444;
}
.check-item:last-child { border-bottom: none; }
.check-item input[type="checkbox"] {
    transform: scale(1.2); /* æ”¾å¤§å‹¾é¸æ¡† */
    margin-right: 10px;
    accent-color: var(--accent); /* å‹¾é¸å¾Œçš„é¡è‰² */
}